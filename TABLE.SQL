DROP TABLE IF EXISTS HP_RATINGS, HP_FEEDBACK, HP_CATEGORY, HP_USER;

CREATE TABLE HP_USER (
USER_ID INT AUTO_INCREMENT NOT NULL,
USER_NAME VARCHAR(10),
PASSWORD VARCHAR(60),
PRIMARY KEY (USER_ID)
);

CREATE TABLE HP_FEEDBACK (
FEEDBACK_ID INT AUTO_INCREMENT NOT NULL,
FEEDBACK_TEXT VARCHAR(1000),
TIMESTMP TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY (FEEDBACK_ID)
);

CREATE TABLE HP_RATINGS (
RATINGS_ID INT AUTO_INCREMENT NOT NULL,
FEEDBACK_ID INT NOT NULL,
USER_ID INT NOT NULL,
HAPPINESS_RATE TINYINT,
CATEGORY_ID INT,
PRIMARY KEY (RATINGS_ID)
);

CREATE TABLE HP_CATEGORY (
CATEGORY_ID INT AUTO_INCREMENT NOT NULL,
CATEGORY_NAME VARCHAR(20),
PRIMARY KEY (CATEGORY_ID)
);

ALTER TABLE HP_RATINGS ADD CONSTRAINT fk1 FOREIGN KEY fk1 (CATEGORY_ID) REFERENCES
HP_CATEGORY(CATEGORY_ID);
ALTER TABLE HP_RATINGS ADD CONSTRAINT fk2 FOREIGN KEY fk2 (FEEDBACK_ID) REFERENCES
HP_FEEDBACK(FEEDBACK_ID);
ALTER TABLE HP_RATINGS ADD CONSTRAINT fk3 FOREIGN KEY fk3 (USER_ID) REFERENCES
HP_USER(USER_ID);

